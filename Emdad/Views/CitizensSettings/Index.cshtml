@model Emdad.ViewModels.ChangePasswordViewModel

@{
    ViewData["Title"] = "Index";
}

@* <h1>Index</h1>

<p>
    <a asp-action="Create">Create New</a>
</p>
<table class="table">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.CitizenNationalId)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.CitizenFullName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.CitizenEmail)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.CitizenPhone)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.CitizenLocation)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.CitizenAbout)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.IsActive)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.IsDelete)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.CreateId)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.CreateDate)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.EditId)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.EditDate)
            </th>
            <th></th>
        </tr>
    </thead>
    <tbody>
@foreach (var item in Model) {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.CitizenNationalId)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.CitizenFullName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.CitizenEmail)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.CitizenPhone)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.CitizenLocation)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.CitizenAbout)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.IsActive)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.IsDelete)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.CreateId)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.CreateDate)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.EditId)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.EditDate)
            </td>
            <td>
                <a asp-action="Edit" asp-route-id="@item.CitizensSettingsId">Edit</a> |
                <a asp-action="Details" asp-route-id="@item.CitizensSettingsId">Details</a> |
                <a asp-action="Delete" asp-route-id="@item.CitizensSettingsId">Delete</a>
            </td>
        </tr>
}
    </tbody>
</table> *@

<head>

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="~/assets/owl.carousel.min.css" />
    <link rel="stylesheet" href="~/assets/owl.theme.default.min.css" />
    <link rel="stylesheet" href="~/assets/src/style.css" />
    <!--  font-awesome -->
    <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
    <!-- end font-awesome -->
    <!-- fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Kufi+Arabic:wght@100..900&display=swap"
    rel="stylesheet" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"
    rel="stylesheet" />
    <!-- end fonts -->

    <link href="~/assets/src/output.css" rel="stylesheet" />

</head>
<body class="bg-gray-100">
    <nav class="w-full h-24"><special-header></special-header></nav>
    <div class="w-full h-[2px] bg-[#CEB579] mb-10"></div>
    <section class="mx-10 grid sm:grid-cols-3 grid-cols-1 mb-20 gap-5">
        <div class="">
            <div class="bg-white rounded-lg shadow-md p-6 text-center max-w-sm">
                <img src="~/assets/Images/profile pic2.png"
                alt="Kevin Anderson"
                class="w-24 h-24 rounded-full mx-auto mb-4" />
                <h2 class="text-xl font-bold text-gray-800">User Name</h2>
                <p class="text-gray-500 mb-4"># User ID</p>
                <div class="flex justify-center space-x-4 mb-5">
                    <p> Quick contact info (email or phone)</p>

                </div>

                <a asp-controller="Home" asp-action="Logout"
                class=" bg-red-500 hover:bg-red-600 text-white font-medium px-4 py-2 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-red-300">
                    تسجيل خروج
                </a>
            </div>
        </div>

        <div class="col-span-2 bg-white rounded-lg shadow-md p-6 ">
            <div class="flex space-x-6 border-b mb-6" id="tabs-container">
                <button class="pb-2 border-b-2 border-yellow-400 text-yellow-600 font-semibold sm:text-lg text-xs"
                data-tab="profile">
                    Profile
                </button>
                <button class="pb-2 text-gray-600 hover:text-black sm:text-lg text-xs" data-tab="settings">
                    settings
                </button>
                 <button class="pb-2 text-gray-600 hover:text-black sm:text-lg text-xs" data-tab="security">
                    Security
                </button>



            </div>
            <!-- profile Content -->
            <div id="profile-tab" class="tab-content">
                <!-- Profile photo -->

                <p class="text-lg text-goldForm font-bold my-3">Profile Details</p>
                @foreach (var item in Model.ListCitizensSettings) { 
                <div class="grid grid-cols-2 mb-2">
                    <p class="font-extrabold">National ID</p>
                        <p>@item.CitizenNationalId</p>
                </div>
                
                <div class="grid grid-cols-2">
                    <p class="font-extrabold">Email</p>
                        <p>@item.CitizenEmail</p>
                </div>
                }
            </div>
           
            <!-- settings Content -->
            <div id="settings-tab" class="tab-content hidden">

                <h2 class="text-xl text-goldForm font-bold mb-3">Email Notifications</h2>
                <form class="space-y-4">
                    <!-- Changes made to your account -->
                    <label class="flex items-center space-x-3">
                        <input type="checkbox" checked class="form-checkbox h-5 w-5 text-goldForm rounded">
                        <span class="text-gray-700">Changes made to your account</span>
                    </label>



                    <!-- Marketing and promo offers -->
                    <label class="flex items-center space-x-3">
                        <input type="checkbox" class="form-checkbox h-5 w-5 text-goldForm rounded">
                        <span class="text-gray-700">Two-Factor Authentication</span>
                    </label>

                    <!-- Security alerts (disabled and checked) -->
                    <label class="flex items-center space-x-3 opacity-50 cursor-not-allowed">
                        <input type="checkbox" checked disabled class="form-checkbox h-5 w-5 text-goldForm rounded">
                        <span class="text-gray-700">Security alerts</span>
                    </label>

                    <!-- Save Button -->
                    <div class="pt-4">
                        <button type="submit" class="w-full bg-goldForm text-white py-2 rounded hover:bg-yellow-600 transition">
                            Save Changes
                        </button>

                </form>
            </div>
        </div>
        <!-- Security Content -->
         <div id="security-tab" class="tab-content hidden ">
            <h2 class="text-xl text-goldForm font-bold mb-3">Change Password</h2>

            <form class="space-y-5" method="POST" asp-controller="CitizensSettings" asp-action="ChangePassword">
                @* Add Anti-Forgery Token for security *@
                @Html.AntiForgeryToken()

                @* The validation summary will display errors from the model state *@
                <div asp-validation-summary="ModelOnly" class="text-danger"></div>

                <div class="citizen-settings">
                    @* It's better to make this a hidden field as the user shouldn't change it. *@
                    <input type="hidden" asp-for="CitizenId" />

                    <div>
                        <label asp-for="CurrentPassword" class="block text-gray-700 font-medium mb-1"></label>
                        <input asp-for="CurrentPassword" type="password" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Enter current password" />
                        <span asp-validation-for="CurrentPassword" class="text-danger"></span>
                    </div>

                    <div>
                        <label asp-for="NewPassword" class="block text-gray-700 font-medium mb-1"></label>
                        <input asp-for="NewPassword" type="password" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Enter new password" />
                        <span asp-validation-for="NewPassword" class="text-danger"></span>
                    </div>

                    <div>
                        <label asp-for="ConfirmPassword" class="block text-gray-700 font-medium mb-1"></label>
                        <input asp-for="ConfirmPassword" type="password" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Confirm new password" />
                        <span asp-validation-for="ConfirmPassword" class="text-danger"></span>
                    </div>

                    <hr class="my-4" />
                </div>

                <div>
                    <button type="submit" class="w-full bg-goldForm text-white py-2 rounded-md hover:bg-yellow-600 transition duration-200">
                        Change Password
                    </button>
                </div>
            </form>

        </div>
         </div>
    </section>
    <script>
        const tabButtons = document.querySelectorAll("[data-tab]");
            const tabContents = document.querySelectorAll(".tab-content");
            // Tab switching
            tabButtons.forEach((button) => {
              button.addEventListener("click", () => {
                const tabId = button.getAttribute("data-tab");
                // Update tab button styles
                tabButtons.forEach((btn) => {
                  const active = btn.getAttribute("data-tab") === tabId;
                  btn.classList.toggle("border-b-2", active);
                  btn.classList.toggle("border-yellow-400", active);
                  btn.classList.toggle("text-yellow-600", active);
                  btn.classList.toggle("font-semibold", active);
                  btn.classList.toggle("text-gray-600", !active);
                });
                // Toggle content
                tabContents.forEach((content) => {
                  content.classList.toggle("hidden", content.id !== `${tabId}-tab`);
                });
              });
            });
    </script>
    <script src="./template_pages.js"></script>
    <special-footer></special-footer>

</body>